(this["webpackJsonpnaveen-ro"]=this["webpackJsonpnaveen-ro"]||[]).push([[0],{31:function(e,t,n){e.exports=n(53)},36:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t),n.d(t,"firebaseConfig",(function(){return j}));var a=n(0),r=n.n(a),l=n(27),c=n.n(l),o=(n(36),n(8)),u=n(9),i=n(11),s=n(10),d=n(28),m=n(13),h=n(4),f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleInputChange=function(e){e.persist(),a.setState((function(){return Object(d.a)({},e.target.name,e.target.value)}))},a.addRecord=function(e){e.preventDefault(),m.firestore().collection("installations").add({custName:a.state.name,custPhone:a.state.number,plantInstalled:a.state.model,dateOfInstallment:a.state.dateofinstallment,nextServiceDate:a.state.nextservicedate,custAddress:a.state.address}).then((function(e){alert("Record Added Successfully!")})).catch((function(e){console.error("Error Adding Document: ",e)}))},a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",placeholder:"Customer Name",onChange:this.handleInputChange,name:"name"}),r.a.createElement("input",{type:"number",placeholder:"Customer Phone Number",onChange:this.handleInputChange,name:"number"}),r.a.createElement("input",{type:"text",placeholder:"Plant Model",onChange:this.handleInputChange,name:"model"}),r.a.createElement("input",{type:"date",placeholder:"Date of Installment",onChange:this.handleInputChange,name:"dateofinstallment"}),r.a.createElement("input",{type:"date",placeholder:"Next Service Date",onChange:this.handleInputChange,name:"nextservicedate"}),r.a.createElement("input",{type:"text",placeholder:"Address",onChange:this.handleInputChange,name:"address"}),r.a.createElement("button",{type:"button",onClick:this.addRecord}," Add New Record"),r.a.createElement("p",null,r.a.createElement(h.b,{to:"/dashboard"},"Go to Dashboard")))}}]),n}(a.Component),E=n(15),p=(n(52),function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={records:[],recordsPresent:!1},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=m.firestore(),n=[];t.collection("installations").get().then((function(t){t.forEach((function(t){n.push(t.data()),e.setState((function(){return{records:n,recordsPresent:!0}}),(function(){}))}))}))}},{key:"render",value:function(){var e=this.state.records.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.custName),r.a.createElement("td",null,e.plantInstalled),r.a.createElement("td",null,e.dateOfInstallment),r.a.createElement("td",null,e.nextServiceDate),r.a.createElement("td",null,e.custAddress),r.a.createElement("td",null,e.custPhone))})),t=!0===this.state.recordsPresent?e:r.a.createElement("tr",null,r.a.createElement("td",null,"Loading"));return r.a.createElement(a.Fragment,null,r.a.createElement("p",null,"Our Clients:"),r.a.createElement("table",{id:"records-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"Plant Installed"),r.a.createElement("td",null,"Date of Installment"),r.a.createElement("td",null,"Next Service Date"),r.a.createElement("td",null,"Address"),r.a.createElement("td",null,"Phone"))),r.a.createElement("tbody",null,t)),r.a.createElement("p",null,r.a.createElement(h.b,{to:"/dashboard"},"Go to Dashboard")))}}]),n}(a.Component)),b=function(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear();return t<10&&(t="0"+t),n<10&&(n="0"+n),e=a+"-"+n+"-"+t},v=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={count:0},a.getNotificationCount=function(){var e=b(),t=m.firestore(),n=[];t.collection("installations").where("nextServiceDate","==",e).get().then((function(e){e.forEach((function(e){n.push(e.data()),a.setState((function(){return{count:n.length}}),(function(){a.playNotificationSound(n.length)}))}))}))},a.playNotificationSound=function(e){e>0&&a.audioRef.current.play()},a.audioRef=r.a.createRef(),a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,"Welcome to Naveen's DB",r.a.createElement("p",null,r.a.createElement(h.b,{to:"/addrecords"},"Add Records")," \xa0",r.a.createElement(h.b,{to:"/viewrecords"},"View Records")," \xa0",r.a.createElement(h.b,{to:"/notifications"},"Notifications (",this.state.count,")"),"  \xa0",r.a.createElement("a",{href:"##",onClick:this.getNotificationCount},"Refresh")),r.a.createElement("audio",{"webkit-playsinline":"true",playsInline:!0,ref:this.audioRef,id:"notificationSound",src:"https://notificationsounds.com/soundfiles/b2f627fff19fda463cb386442eac2b3d/file-sounds-1142-inflicted.mp3"}))}}]),n}(a.Component),g=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={recordsPresent:!1,records:[]},a.getData=function(){var e=b(),t=m.firestore(),n=[];t.collection("installations").where("nextServiceDate","==",e).get().then((function(e){e.forEach((function(e){n.push(e.data())})),a.setState((function(){return{records:n,recordsPresent:!0,count:n.length}}),(function(){}))}))},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.state.records.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.custName),r.a.createElement("td",null,e.plantInstalled),r.a.createElement("td",null,e.dateOfInstallment),r.a.createElement("td",null,e.nextServiceDate),r.a.createElement("td",null,e.custAddress),r.a.createElement("td",null,e.custPhone))})),t=!0===this.state.recordsPresent?e:r.a.createElement("tr",null,r.a.createElement("td",null,"Loading")),n=0===this.state.count?r.a.createElement("tr",null,r.a.createElement("td",null,"No Notification")):t;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Notifications (",this.state.count,")"),r.a.createElement("table",{id:"records-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"Plant Installed"),r.a.createElement("td",null,"Date of Installment"),r.a.createElement("td",null,"Next Service Date"),r.a.createElement("td",null,"Address"),r.a.createElement("td",null,"Phone"))),r.a.createElement("tbody",null,n)),r.a.createElement("p",null,r.a.createElement(h.b,{to:"/dashboard"},"Go to Dashboard")))}}]),n}(a.Component),y=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(u.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",{className:"error-block"},r.a.createElement("p",null,r.a.createElement("span",null,"Something went wrong. "),r.a.createElement(h.b,{to:"/"},"Go To Dashboard"))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.Component);var C=function(e){return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"pagenotfound"},r.a.createElement("h1",null," 404 Error. Page Not Found "),r.a.createElement(h.b,{className:"link",to:"/dashboard"},"Click Here to go to Dashboard")))},O=function(){return r.a.createElement(h.a,null,r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/",render:function(){return r.a.createElement(E.a,{to:"/dashboard"})}}),r.a.createElement(E.b,{exact:!0,path:"/dashboard",render:function(){return r.a.createElement(v,null)}}),r.a.createElement(E.b,{exact:!0,path:"/addrecords",render:function(){return r.a.createElement(f,null)}}),r.a.createElement(E.b,{exact:!0,path:"/notifications",render:function(){return r.a.createElement(g,null)}}),r.a.createElement(E.b,{exact:!0,path:"/viewrecords",render:function(){return r.a.createElement(p,null)}}),r.a.createElement(E.b,{render:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(y,null,r.a.createElement(C,null)))}})))},D=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j={apiKey:"AIzaSyCmGN1TXfG9dTYXx80HvckdQkJpE9nTLXY",authDomain:"naveen-s-db.firebaseapp.com",databaseURL:"https://naveen-s-db.firebaseio.com",projectId:"naveen-s-db",storageBucket:"naveen-s-db.appspot.com",messagingSenderId:"941064666107",appId:"1:941064666107:web:17532e787616deadbf695e",measurementId:"G-34S1Z2T39Q"};m.initializeApp(j),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.11b9d5cc.chunk.js.map